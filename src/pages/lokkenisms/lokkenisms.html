<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Renakisms</ion-title>
    <ion-buttons end>
      <button ion-button (click)="openModal($event)">Add</button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-toolbar>
    <ion-searchbar [(ngModel)]="filterText" (ionChange)="filterYears()"></ion-searchbar>
  </ion-toolbar>

  <div class="spinner-container">
    <ion-spinner *ngIf="loading"></ion-spinner>
  </div>

  <div class="year" *ngFor="let year of filteredYears">

    <!-- the year and number of lokkenisms -->
    <div class="lokkenism-header">
      <h1>{{year.year}}</h1>
      <span>{{ year.lokkenisms.length }} {{ year.lokkenisms.length === 1 ? 'Renakism' : 'Renakisms' }}</span>
    </div>

    <blockquote class="bluejeans" *ngFor="let lokkenism of year.lokkenisms" (click)="editLokkenism(lokkenism)">
      <div class="quote">{{lokkenism.quote}}</div>
      <div class="author" *ngIf="lokkenism.author">{{lokkenism.author}}</div>
      <div class="note" *ngIf="lokkenism.note">{{lokkenism.note}}</div>
    </blockquote>
  </div>
</ion-content>
